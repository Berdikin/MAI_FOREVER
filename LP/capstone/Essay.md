# Реферат
## по курсу "Логическое программирование"

### студент: Бердикин Т.А.

## Как я учил свою бабушку основам логического программирования

## Результат проверки

| Преподаватель     | Дата         |  Оценка       |
|-------------------|--------------|---------------|
| Сошников Д.В. |              |               |
| Левинская М.А.|              |               |

— Ну что, бабуль, ты сейчас свободна?
— Да, а что?
— Будем тебя учить логическому программированию!
— Чему-чему? Программированию? Я ж старенькая, Алёш*... Ой, Тим. Поздно мне учиться-то уже!
— Ничего не знаю! Мне в институте задали!


Научить бабушку логическому программированию — задача не из лёгких, особенно, когда эта же самая бабушка едва ли помнит, как включать компьютер. Ради этого реферата даже пришлось переехать к бабушке с дедушкой на пару недель, чтобы выполнить поставленную задачу. Эх, чего только не сделаешь ради оригинальной работы…
Для начала — софт! Писать программы на листочке — прошлый век, и мы устанавливаем на дедушкин ноутбук подсистему Ubuntu 18.04, где с терминала качаем SWI Prolog. Не забываем установить хорошую IDE — Microsoft Visual Studio. 

Всё готово. Можно приступать к теории. Спустя пару часов совместного изучения книги Стерлинга и Шапиро «Искусство программирования на языке Пролог» бабушка уже знает, что простейший вид утверждений называется фактом, и он констатирует то, что между объектами выполнено какое-то отношение. Отношение также называется предикатом, простейшим примером для моей бабушки, которая хорошо знает Библию, оказался факт father (avraam, isaac), демонстрирующий нам, что Авраам — отец Исаака или, говоря техническим языком, выполнено отношение "отец" между индивидами, которых зовут Авраам и Исаак.
- Бабушка, как называются по-другому имена индивидов?
- … Атомы?
- Верно!
И это бабушка тоже узнала. С помощью большого количества предикатов (или фактов, не суть) можно создать что-то наподобие базы данных, по которой мы, собственно, и будем задавать вопросы.
- Бабуль, что ты запомнила?
- Ну… Про факты поняла. В этом Прологе есть ещё, как ты сказал, вопросы и эти…
- Правила.
- Да, правила.

Разъяснял бабушке, что такое вопросы, очень долго. Очень хорошо, что у неё не было своеобразной запутанности, как в своё время у меня и у многих, кто до этого был знаком с императивными языками программирования. Ведь главное отличие Пролога от них в чём заключается? Прологу не нужно знать, как искать. Ему нужно знать, ЧТО искать.
- Чтобы получить правильный ответ…
- Надо задать правильный вопрос! А кто это сказал?
- Лектор наш, бабуль, Сошников его фамилия. Продолжаем…
И всё-таки оказалось не совсем приятным то обстоятельство, что бабушка не была знакома ни с каким видом программирования в принципе. То есть, с натяжкой можно назвать пару вещей: она работала много-много лет в аэропорту и работала с базами данных. При этом она даже делала это в начале своей карьеры с помощью перфокарт и перфолент, благо потом установили ЭВМ нового поколения и там уже было попроще. Но всё равно, связывать с программированием профессию моей бабушки — то же самое, что сравнивать ДНК банана и человека: они, конечно, похожи процентов на 50, но, как вы сами понимаете, на основании этого заявить то, что бананы эволюционировали в человека, будет не слишком разумно.

Но что-то мы отошли от темы. Итак, вопрос задаётся с синтаксисом, похожим на факт. Выглядит это так:
? - father (avraam, isaac).
И, разумеется, Пролог радостно воскликнет «true», так как такой факт есть, и его существование сомнению не подлежит. Такой ответ будет дан всегда, если программа состоит из простых фактов и факт, тождественный вопросу, найден. В противном случае (если Пролог извергает красную надпись «false»), мы понимаем, что факт, тождественный вопросу, не найден, но это не значит, что мы подвергаем сомнению истинность вопроса, вовсе нет. Просто становится понятно, что нам не удалось доказать истинность вопроса с помощью программы (читай: набора фактов).  Пример? Легко. 
? - father (isaac, avraam).
false.
- Бабуль, а как ты думаешь, вот если у нас есть база фактов, и надо выяснить, кто отец Исаака, что мы будем делать?
- Ну… Как же. Мы спросим, является ли Авраам отцом Исаака, и, получив ответ «true», поймём, что к чему.
- Но что если отцом Авраама на этот раз будет кто-то другой? Не Исаак. Что, перебирать всех возможных отцов?
- Ну… Тогда можно посмотреть самостоятельно.
- Бабушка, база на 10 тысяч человек, ответ требуется в течение двух минут.
- Оооо… Ну тогда надо сделать поиск по слову «Исаак»…
- Уже лучше, но снова мимо. База данных может быть большая, можно будет увидеть всех родственников Исаака — троюродную сестру, всех прадедушек, золовку, внучатую племянницу брата мужа сестры его матери и… Наверное, среди этих фактов найдётся и папа Исаака. Но ведь никто не гарантирует, что ты быстро найдёшь эту иголку в стоге сена.
- Ну… Как тогда быть? Если нам неизвестен отец Исаака, может, обозначить его за Х, как в уравнениях?
- В точку.
Да, Пролог позволяет творить и такие вещи. Здесь Х называется логической переменной и служит, как, наверное, можно было догадаться, для обозначения неопределённых объектов. 
Вопрос можно задать так:
? - father (avraam, X).
Вводя  такой вопрос, мы как бы говорим Прологу «Кто отец Авраама»? И он начинает лихорадочно перебирать соответствующие факты в поисках истины. Найдя соответствующий  факт, он и выдаст нам тот Атом, который и является отцом Авраама. Выглядеть это будет так:
? - Х = isaac.
- А что, если у Авраама два отца?
- Что ты имеешь в виду?
- Ну вот смотри. Допустим, отец Авраама Исаак, но он умер, и мальчика воспитывает какой-нибудь Иосиф. Или вовсе… Я, конечно, такое не одобряю — говорит строго бабушка — но что, если в европейской семье два папы, и они усыновили ребёнка?
- Дописывай факт.
Немного подумав, бабушка печатает второй строчкой программы факт father (avraam, iosif).
- И что теперь сделает твой Пролог, Тим, если я спрошу, кто отец Авраама?
- Он не мой, бабушка, его в 1972 году Аллен Колмероэ придумал.  Но об этом потом, за кружкой чая. Извращаем мы Библию, содомитствуем, конечно… А Пролог в таком случае выдаст тебе первый попавшийся факт. Поскольку ранее было написано, что отец Авраама — Исаак, то Пролог и напечатает данное утверждение X = isaac.

Но сразу следует отметить один важный нюанс. ПРОЛОГ В ТАКОМ СЛУЧАЕ НЕ ЗАВЕРШАЕТ РАБОТУ САМОСТОЯТЕЛЬНО. Если пользователю достаточно этого, можно напечатать точку, и Пролог завершит работу. Но пользователь у нас дотошный и хочет посмотреть, что там за отцы ещё у Авраама есть. Печатаем точку с запятой (как один символ, а не как два разных) и Пролог выдаёт второй найденный факт.
Х = iosif.
Вуаля — Пролог завершил работу и нашёл всех отцов Авраама. Забавы ради скажу, что отцов Авраама может быть хоть десяток — Пролог найдёт всех, если это нужно пользователю.  Важно заметить: от традиционных языков программирования использование логических переменных в Прологе тоже отличается: если в первых она означает некоторую область памяти, то в случае с Прологом она — неопределённый, но единственный объект.
- А я могу, написав  ? - father (X, isaac), выяснить, кто сын Исаака?
- Конечно, это работает и в обратную сторону, главное не запутаться, что у тебя чем является.

Теперь поговорим о правилах. Что есть правило? Всё просто — это конструкция вида 
«A:  — B, C, D.», где А мы назовём целью, а всякие прочие B, C и D — телом правила или его подцелями. Цель правила всегда единственна, а подцелей может быть произвольное количество. Интерпретируется это довольно просто: цель истинна, если истинны все подцели.
Пример:
have_a_dog (tim): - have (tim, beethoven), dog (beethoven).

Здесь уже обученная бабушка разобралась быстро. Она сразу заявила, что правило, по сути, есть связка тех или иных фактов, что, в принципе, верно. Она поняла, что из того, что Бетховен является псом и принадлежит Тиму, можно смело сделать вывод: Тим является владельцем собаки. Да, это уже было попроще.
Итак, на очереди списки и реализация стандартных предикатов.
- Так, бабуль — заявил я, когда бабушка в перерыве создала базу данных половины святых, которые у неё дома на иконах и радостно делала запросы, кто чей сын, и как все связаны между собой — надо двигаться дальше. У нас на очереди списки и реализации стандартных предикатов.
- Ой, а можно не сегодня? Я что-то слишком устала. Давай в следующий раз. Разве не достаточно для твоего реферата?
- Да нет, надо же хоть на более-менее продвинутый уровень тебя вытащить. Ладно, давай завтра.

Что могло пойти не так? Да всё. На следующий день ей было необходимо срочно ехать в другой город, потом бодаться с пенсионным фондом, затем что-то ещё… Так я понял, что изучением Пролога мне бабушку заинтересовать особо не удалось — так, на базовом уровне. Что ж, и это можно считать определённым результатом.

Что из этого всего следует? Надо выбирать более лёгкие темы рефератов и не пытаться учить бабушек в 65. Ну а если серьёзно — всё-таки ей было несложно освоить самые азы, а это подтверждает, что Пролог… достаточно прост в изучении, особенно для интересующихся. 

Источники: 
Сошников Д. В. Парадигма логического программирования.
Бродский А. В. Введение в язык Пролог.
Стерлинг Л., Шапиро Э. Искусство программирования на языке Пролог
______________________
*Алексей - имя моего отца
